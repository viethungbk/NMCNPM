create database phone;
use phone;


create table users(
userId      int primary key NOT NULL,
role        int NOT NULL,
userName    varchar(255) NOT NULL,
password    varchar(255) NOT NULL,
name        varchar(255) NOT NULL,
sex         varchar(10)  NOT NULL,
birth       date         NOT NULL,
email       varchar(255) NOT NULL,
address     varchar(255) NOT NULL,
telephone   int NOT NULL
);

 

create table supplier(
supplierId   int primary key NOT NULL,
supplierName varchar(255) NOT NULL,
address      varchar(255) NOT NULL
);


create table colors(
colorId    int primary key NOT NULL,
nameColor  varchar(255)    NOT NULL
); 

create table product(
productId    int primary key NOT NULL,
productName  varchar(255)    NOT NULL,
os           varchar(255) NOT NULL,
cpu          varchar(30)      NOT NULL,
ram          varchar(30)     NOT NULL,
rom          varchar(30)     NOT NULL,
size         float NOT NULL,
screen       int NOT NULL,
weight       float NOT NULL,
battery      int NOT NULL,
warranty     varchar(30) NOT NULL,
colorId      int NOT NULL,
supplierId   int NOT NULL,
quantity     int NOT NULL,    
foreign key(colorId) references colors(colorId),
foreign key(supplierId) references supplier(supplierId)
);

create table  images(
imageId    int primary key NOT NULL,
url        varchar(255)    NOT NULL,
productId  int             NOT NULL,
foreign key(productId) references product(productId)
);


create table price(
priceId       int primary key NOT NULL,
productId     int  NOT NULL,
price         int  NOT NULL,
dateStart     date NOT NULL,
foreign key(productId) references product(productId)
);



create table order1(
orderId   int primary key NOT NULL,
userId    int NOT NULL,
status    int NOT NULL,
date      datetime NOT NULL,
foreign key(userId) references users(userId)
); 


create table orderDetail(
orderDetailId  int primary key NOT NULL,
orderId        int NOT NULL,
productId      int NOT NULL,
quantity       int NOT NULL,
price          int NOT NULL,
foreign key(orderId) references order1(orderId),
foreign key(productId) references product(productId)
);


create table xuathang(
xId         int primary key NOT NULL,
productId   int NOT NULL,
quantity    int NOT NULL,
date        datetime NOT NULL,
price       int NOT NULL,
foreign key(productId) references product(productId)
);

create table nhaphang(
nId         int primary key NOT NULL,
productId   int NOT NULL,
quantity    int NOT NULL,
date        datetime NOT NULL,
price       int NOT NULL,
foreign key(productId) references product(productId)
);















